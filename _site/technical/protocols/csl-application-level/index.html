<!DOCTYPE html>
<html>

  
<head>
<title>CSL Application-Level Messaging - Cardano</title>
<meta charset="utf-8">



<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<meta name="twitter:card" content="CSL Application-Level Messaging">
<meta name="twitter:site" content="Cardano">
<meta name="twitter:creator" content="Cardano">

<meta name="twitter:title" content="CSL Application-Level Messaging">
<meta name="twitter:description" content="CSL Application-Level Messaging">

<meta property="og:title" content="CSL Application-Level Messaging" />
<meta property="og:type" content="page" />
<meta property="og:url" content="/technical/protocols/csl-application-level/" />


<meta property="og:description" content="SL Documentation" />
<meta property="og:site_name" content="Cardano" />





<meta name="twitter:image" content="//cardano-docs.iohk.io/img/sharing.jpg">



<meta property="og:image" content="//cardano-docs.iohk.io/img/sharing.jpg" />






<script>(function(){document.documentElement.className='js'})();</script>

<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" type="text/css" media="all" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto%3A100%2C300%2C500&#038;subset=latin&#038;ver=4.4.2" type="text/css" media="all" />


<link href="/css/montserrat.css" rel="stylesheet">
<link href="/css/app.css" rel="stylesheet" media="screen">
<link href="/css/custom.0.14.css" rel="stylesheet" media="screen">

<!--[if lte IE 10]>
<script>webglIE = false;</script>
<style>#io_intro_nav {display: none !important}</style>
<![endif]-->
<!--[if lt IE 9]>
<link rel="stylesheet"  href="/css/ie.css" type="text/css" media="all" />
<script src="/js/html5.js"></script>
<![endif]-->
<!--[if lt IE 8]>
<script>lowerie = true;</script>
<link rel="stylesheet"  href="/css/ieoff.css" type="text/css" media="all" />
<![endif]-->

<script type="text/javascript" src="/js/app/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="/js/app/jquery-ui.js"></script>

</head>


  <body>

    <div class="top">

  <nav class="navbar navbar-default  navbar-inverse">
    <div class="container">


      <div class="navbar-header cardano logo">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#cardano-nav" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/"><img src="//static.iohk.io/cardano/images/cardano-white-120.png" alt="" width="50" height="45" /></a>
      </div>
  

    </div><!-- /.container -->
  </nav>

<div class="banner">
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">


      <h1>Cardano Settlement Layer <span>Documentation</span></h1>

      <form id="site_search_form" class="" action="javascript:io_search_site()">


                      <div class="input-group">
                        <input id="site_search_input" type="text" class="form-control input-lg" placeholder="Search docs ..." onfocus="io_search_site()" />
                            <span class="input-group-btn">
                              <button type="submit" class="btn btn-default btn-lg"><em class="fa fa-search"></em></button>
                            </span>
                          </div><!-- /input-group -->


      </form>


      </div>
    </div>
  </div>
</div>

</div>

<div class="navbar-grad"></div>





      <div class="container">
          <!-- left, vertical navbar & content -->
          <div class="row">
              <!-- left, vertical navbar -->
              <div class="col-md-3 col-sm-4 col-left">

                	<ul class="nav navbar-collapse collapse navbar-side" id="cardano-nav">
                    <li class="nodesktop"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#cardano-nav" aria-expanded="false">
                      <span class="times">&times;</span>
                    </button></li>



                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        

                                        <li>
                                          
                                          <a href="/introduction/">Introduction</a>
                                          
                                          <ul>


                      
                      <li><a class="nosearch" href="/introduction/#cryptocurrency-basics">Cryptocurrency Basics</a></li>

                      
                      <li><a class="nosearch" href="/introduction/#what-makes-cardano-sl-special">What Makes Cardano SL Special?</a></li>

                      
                      <li><a class="nosearch" href="/introduction/#beyond-settlement-layer">Beyond Settlement Layer</a></li>

                      


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <span></span>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                                        </li>

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        

                                        <li>
                                          
                                          <a href="/installation/">Installation</a>
                                          
                                          <ul>


                      


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                                        </li>

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        

                                        <li>
                                          
                                          <span>Cardano overview</span>
                                          
                                          <ul>


                      


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/cardano/proof-of-stake/">Ouroboros Proof of Stake Algorithm</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/cardano/differences/">Differences Between the Paper and the Implementation</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/cardano/addresses/">Addresses</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/cardano/transactions/">Transactions</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/cardano/update-mechanism/">Update Mechanism</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/cardano/monetary-policy/">Monetary Policy</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/cardano/transaction-assurance/">Transaction Assurance Level</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                                        </li>

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        

                                        <li>
                                          
                                          <a href="/technical/">Technical details</a>
                                          
                                          <ul>


                      


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/technical/launcher/">Cardano SL Launcher</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/technical/updater/">Cardano SL Updater</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/technical/wallet/">Cardano SL Wallet</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <span>Scripting</span>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <a href="/technical/plutus/introduction/">Introduction</a>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <a href="/technical/plutus/types/">Types</a>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <a href="/technical/plutus/examples/">Examples</a>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/technical/blocks/">Blocks in Cardano SL</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/technical/cli-options/">Cardano SL CLI Options</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <span>Protocols</span>
                        
                        <ul>


                      
                      
                      
                      

                      <li>
                        
                        <a href="/technical/protocols/csl-application-level/">CSL Application-Level Messaging</a>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <a href="/technical/protocols/p2p/">P2P Layer</a>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <a href="/technical/protocols/time-warp-nt/">Time-warp-NT Layer</a>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <a href="/technical/protocols/network-transport/">Network Transport Layer</a>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <a href="/technical/protocols/binary-protocols/">Binary protocols</a>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/technical/pstypebridge/">PureScript Type Bridge in Cardano SL</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/technical/wallets/">Daedalus Client API</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/technical/pvss/">Cardano SL PVSS</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                                        </li>

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        

                                        <li>
                                          
                                          <span>For Contributors</span>
                                          
                                          <ul>


                      


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/for-contributors/building-from-source/">Building Cardano SL and Daedalus from Source</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/for-contributors/haddock/">Haddock</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                                        </li>

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        

                                        <li>
                                          
                                          <span>Cardano Timeline</span>
                                          
                                          <ul>


                      


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/timeline/testnet/">Testnet Era</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/timeline/bootstrap/">Bootstrap Era</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <a href="/timeline/reward/">Reward Era</a>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                                        </li>

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        

                                        <li>
                                          
                                          <a href="/glossary/">Glossary</a>
                                          
                                          <ul>


                      


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      


                      <li>
                        
                        <span></span>
                        
                        <ul>


                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      

                      <li>
                        
                        <span></span>
                        
                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                      </li>

                      
                      
                      
                      
                      
                      
                      
                      

</ul>

                                        </li>

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        

                  </ul>

              </div>

              <!-- content -->
              <div class="col-md-9 col-sm-8">
                <div id="search-output" class="none"></div>
                <div class="searching main" id="searching"></div>
                <div class="main" id="main">
                  
<h1 id="csl-application-level-messaging">CSL Application-Level Messaging</h1>

<p>In this document we explore messaging in Cardano SL. The goal of this
document is to explain how all the pieces, such as Time-Warp, Network-Transport,
and Kademlia DHT, click together and make implementing a full CSL node possible.</p>

<h2 id="message-typeclass-and-message-types">Message Typeclass and Message Types</h2>

<p>When reading the source code, you often encounter things like
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Types.hs#L20-L29">this</a></p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="cd">-- | 'GetHeaders' message (see protocol specification).</span>
<span class="kr">data</span> <span class="kt">MsgGetHeaders</span> <span class="o">=</span> <span class="kt">MsgGetHeaders</span>
    <span class="p">{</span> <span class="c1">-- not guaranteed to be in any particular order</span>
      <span class="n">mghFrom</span> <span class="o">::</span> <span class="o">!</span><span class="p">[</span><span class="kt">HeaderHash</span><span class="p">]</span>
    <span class="p">,</span> <span class="n">mghTo</span>   <span class="o">::</span> <span class="o">!</span><span class="p">(</span><span class="kt">Maybe</span> <span class="kt">HeaderHash</span><span class="p">)</span>
    <span class="p">}</span> <span class="kr">deriving</span> <span class="p">(</span><span class="kt">Generic</span><span class="p">,</span> <span class="kt">Show</span><span class="p">,</span> <span class="kt">Eq</span><span class="p">)</span>

<span class="kr">instance</span> <span class="kt">Message</span> <span class="kt">MsgGetHeaders</span> <span class="kr">where</span>
    <span class="n">messageName</span> <span class="kr">_</span> <span class="o">=</span> <span class="n">varIntMName</span> <span class="mi">4</span>
    <span class="n">formatMessage</span> <span class="kr">_</span> <span class="o">=</span> <span class="s">"GetHeaders"</span>
</code></pre>
</div>

<p>How do you read this? First, let’s examine the <code class="highlighter-rouge">instance</code> part. This particular
snippet says that the data structure defined by type <code class="highlighter-rouge">MsgGetHeaders</code> is used as
a message payload. The name of such message is <code class="highlighter-rouge">"GetHeaders"</code>.</p>

<p>In this particular case, the data structure has two fields: <code class="highlighter-rouge">mghFrom</code> and <code class="highlighter-rouge">mghTo</code>.
Prefixes like <code class="highlighter-rouge">mgh</code> are used because Haskell puts symbols for record fields in
the global namespace, so it’s programmer’s duty to avoid clashes.</p>

<p>It should be noted that sometimes you see messages that are parametrized with a type <code class="highlighter-rouge">ssc</code> variable. That is done for the code to be polymorphic with respect
to the way we carry out shared seed computation.
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Types.hs#L42-L44">Here</a>
is an example of a message that sends newest headers first, minding ssc.</p>

<p>The way messages are serialized can be seen in
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Binary/Communication.hs">Pos.Binary.Communication</a>
module.</p>

<p>Every message type should have an instance of the <code class="highlighter-rouge">Message</code> typeclass.
Please see <a href="/technical/protocols/time-warp-nt/#messaging">Time-Warp-NT guide</a>.</p>

<h2 id="invreqdata-and-messagepart">Inv/Req/Data and MessagePart</h2>

<p>Most of messages in Cardano SL are generalized with <code class="highlighter-rouge">Inv/Req/Data</code> standard (see <a href="https://github.com/input-output-hk/cardano-sl/blob/3d695fd804814647f50abe452a81a678aad080cc/src/Pos/Communication/Types/Relay.hs">Pos.Communication.Relay</a> module).
Within this framework we define three data types:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code>
<span class="cd">-- | Inventory message. Can be used to announce the fact that you have</span>
<span class="c1">-- some data.</span>
<span class="kr">data</span> <span class="kt">InvMsg</span> <span class="n">key</span> <span class="n">tag</span> <span class="o">=</span> <span class="kt">InvMsg</span>
    <span class="p">{</span> <span class="n">imTag</span>  <span class="o">::</span> <span class="o">!</span><span class="n">tag</span>
    <span class="p">,</span> <span class="n">imKeys</span> <span class="o">::</span> <span class="o">!</span><span class="p">(</span><span class="kt">NonEmpty</span> <span class="n">key</span><span class="p">)</span>
    <span class="p">}</span>

<span class="cd">-- | Request message. Can be used to request data (ideally data which</span>
<span class="c1">-- was previously announced by inventory message).</span>
<span class="kr">data</span> <span class="kt">ReqMsg</span> <span class="n">key</span> <span class="n">tag</span> <span class="o">=</span> <span class="kt">ReqMsg</span>
    <span class="p">{</span> <span class="n">rmTag</span>  <span class="o">::</span> <span class="o">!</span><span class="n">tag</span>
    <span class="p">,</span> <span class="n">rmKeys</span> <span class="o">::</span> <span class="o">!</span><span class="p">(</span><span class="kt">NonEmpty</span> <span class="n">key</span><span class="p">)</span>
    <span class="p">}</span>

<span class="cd">-- | Data message. Can be used to send actual data.</span>
<span class="kr">data</span> <span class="kt">DataMsg</span> <span class="n">contents</span> <span class="o">=</span> <span class="kt">DataMsg</span>
    <span class="p">{</span> <span class="n">dmContents</span> <span class="o">::</span> <span class="o">!</span><span class="n">contents</span>
    <span class="p">}</span> <span class="kr">deriving</span> <span class="p">(</span><span class="kt">Show</span><span class="p">,</span> <span class="kt">Eq</span><span class="p">)</span>
</code></pre>
</div>

<p>Here:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">key</code> is a type representing the node identifier.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">tag</code> is a type used to describe announced/requested data. It should contain
enough information for other nodes to check if they need these data and request
them.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">contents</code> is a type representing actual message payload.</p>
  </li>
</ul>

<p>To introduce a new message using <code class="highlighter-rouge">Inv/Req/Data</code> one should create two types: tag
type and contents type for this message, and then implement <code class="highlighter-rouge">MessagePart</code>
typeclass for both of them.</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="kt">MessagePart</span> <span class="n">a</span> <span class="kr">where</span>
    <span class="n">pMessageName</span> <span class="o">::</span> <span class="kt">Proxy</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">MessageName</span>
</code></pre>
</div>

<p>Here, <code class="highlighter-rouge">pMessageName</code> is an identifier for a particular message type
(e.g. the type should be the same for tag and contents, but it should differ
between messages).</p>

<p><code class="highlighter-rouge">Message</code> typeclass for <code class="highlighter-rouge">InvMsg key tag</code>, <code class="highlighter-rouge">ReqMsg key tag</code> and <code class="highlighter-rouge">DataMsg contents</code>
is automatically derived from the <code class="highlighter-rouge">MessagePart</code> typeclass for particular tag and
contents.</p>

<p>Please see <a href="https://github.com/input-output-hk/cardano-sl/blob/3d695fd804814647f50abe452a81a678aad080cc/src/Pos/Communication/Message.hs">Pos.Communication.Message</a>
module for the examples of messages that are using <code class="highlighter-rouge">Inv/Req/Data</code>.</p>

<h2 id="block-exchange-messages">Block Exchange Messages</h2>

<p>This table explains <a href="https://github.com/input-output-hk/cardano-sl/blob/3b657302dede832b908f7ba792a164c83b362712/src/Pos/Block/Network/Types.hs">Pos.Block.Network.Types</a> module.</p>

<table>
  <thead>
    <tr>
      <th>Message type</th>
      <th>Payload</th>
      <th>Commentaries</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GetHeaders</td>
      <td>Header hash checkpoints; Optional newest hash we’re interested in</td>
      <td>Expect newest header first</td>
    </tr>
    <tr>
      <td>GetBlocks</td>
      <td>Oldest header hash; Newest hash</td>
      <td>Both hashes have to be present</td>
    </tr>
    <tr>
      <td>BlockHeaders</td>
      <td>Non-empty collection of block headers, newest first</td>
      <td>Polymorphic in ssc</td>
    </tr>
    <tr>
      <td>Block</td>
      <td>A single block</td>
      <td>Polymorphic in ssc</td>
    </tr>
  </tbody>
</table>

<p>For more details see <a href="/technical/protocols/binary-protocols/#block-exchange-messages">binary protocols</a>.</p>

<h2 id="message-names">Message names</h2>

<p>All messages are given custom names, since using full type names would be excessive. Each name is concatenation of one or two encoded <code class="highlighter-rouge">UnsignedVarInt</code>s.</p>

<p>This table contains names for all used messages / message parts; they could also be found in
<a href="https://github.com/input-output-hk/cardano-sl/blob/73d1b0a4281dd5453465304ed117b7127f82f79f/src/Pos/Communication/Message.hs">Pos.Communication.Message</a> module.
To distinguish from integers addition, concatenation is denoted here as <code class="highlighter-rouge">(++)</code>.</p>

<table>
  <thead>
    <tr>
      <th>Message type</th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>NOP</td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td>SendProxySK</td>
      <td><code class="highlighter-rouge">2</code></td>
    </tr>
    <tr>
      <td>ConfirmProxySK</td>
      <td><code class="highlighter-rouge">3</code></td>
    </tr>
    <tr>
      <td>MsgGetHeaders</td>
      <td><code class="highlighter-rouge">4</code></td>
    </tr>
    <tr>
      <td>MsgHeaders</td>
      <td><code class="highlighter-rouge">5</code></td>
    </tr>
    <tr>
      <td>MsgGetBlocks</td>
      <td><code class="highlighter-rouge">6</code></td>
    </tr>
    <tr>
      <td>MsgBlock</td>
      <td><code class="highlighter-rouge">7</code></td>
    </tr>
    <tr>
      <td>InvMsg</td>
      <td><code class="highlighter-rouge">8</code> ++ <code class="highlighter-rouge">pMessageName tag</code></td>
    </tr>
    <tr>
      <td>ReqMsg</td>
      <td><code class="highlighter-rouge">9</code> ++ <code class="highlighter-rouge">pMessageName tag</code></td>
    </tr>
    <tr>
      <td>MempoolMsg</td>
      <td><code class="highlighter-rouge">10</code> ++ <code class="highlighter-rouge">pMessageName tag</code></td>
    </tr>
    <tr>
      <td>DataMsg</td>
      <td><code class="highlighter-rouge">11</code> ++ <code class="highlighter-rouge">pMessageName contents</code></td>
    </tr>
    <tr>
      <td>SysStartRequest</td>
      <td><code class="highlighter-rouge">1001</code></td>
    </tr>
    <tr>
      <td>SysStartResponse</td>
      <td><code class="highlighter-rouge">1002</code></td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Message part type</th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>TxMsgTag</td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td>TxMsgContents</td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td>ProposalMsgTag</td>
      <td><code class="highlighter-rouge">1</code></td>
    </tr>
    <tr>
      <td>(UpdateProposal, [UpdateVote])</td>
      <td><code class="highlighter-rouge">1</code></td>
    </tr>
    <tr>
      <td>VoteMsgTag</td>
      <td><code class="highlighter-rouge">2</code></td>
    </tr>
    <tr>
      <td>UpdateVote</td>
      <td><code class="highlighter-rouge">2</code></td>
    </tr>
    <tr>
      <td>GtTag</td>
      <td><code class="highlighter-rouge">3</code></td>
    </tr>
    <tr>
      <td>GtMsgContents</td>
      <td><code class="highlighter-rouge">3</code></td>
    </tr>
  </tbody>
</table>

<h2 id="communication-messages">Communication Messages</h2>

<p>This table describes data structures that are included in communication
maintenance messages.
It covers the following modules:</p>

<ul>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Communication/Types/State.hs">Pos.Communication.Types.State</a></li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Communication/Types/Protocol.hs">Pos.Communication.Types.Protocol</a></li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Communication/Types/SysStart.hs">Pos.Communication.Types.SysStart</a></li>
</ul>

<table>
  <thead>
    <tr>
      <th>Data Type* or Message type</th>
      <th>Payload</th>
      <th>Commentaries</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SysStartRequest</td>
      <td>Ø</td>
      <td>Polls peer’s timestamps. To be answered with SysStartResponse</td>
    </tr>
    <tr>
      <td>SysStartResponse</td>
      <td>Peer’s timestamp</td>
      <td>Answer to SysStartRequest</td>
    </tr>
  </tbody>
</table>

<h2 id="delegation-messages">Delegation Messages</h2>

<p><em>Delegation</em> is a feature that allows one stakeholder, called <em>issuer</em>, to let
another stakeholder, called <em>delegate</em>, generate blocks on her behalf.</p>

<p>To do this, issuer should create <em>proxy signing key</em> that allows delegate to
sign blocks instead of issuer. Any stakeholder can verify that a proxy signing
key was actually issued by a specific stakeholder to a specific delegate and
that this key is valid at time.</p>

<p>Delegation can be of two types: per-epoch delegation and delegation
with revocable long-lived certificates. Per-epoch delegation is called
“lightweight”, and the long-lived delegation is called “heavyweight”.</p>

<h3 id="lightweight-delegation">Lightweight Delegation</h3>

<p>Lightweight delegation allows delegate to sign blocks instead of issuer for
some epochs (range [low, high] of epochs is specified for a signing key created).</p>

<p>To do this, issuer should send message containing time range, issuer public key,
delegate public key and certificate over network.
Every node from network receives this message and can check later if the one who
generated the block had right for it.
Lightweight delegation data is stored in memory and gets deleted after some time
(500 seconds).</p>

<p>This delegation type can be used to delegate blocks generating right to some
trusted node when an issuer knows it will be absent in some time range.</p>

<h3 id="heavyweight-delegation">Heavyweight Delegation</h3>

<p>Heavyweight delegation serves two purposes:</p>

<ol>
  <li>Delegate block generation right, like lightweight delegation.</li>
  <li>Share stake with some delegate, thus allowing delegate to take part in
Follow-The-Satoshi. No real money is transferred; stake of issuer is added to
stake of delegate when calculating stakeholders for Follow-The-Satoshi.</li>
</ol>

<p>Every particular stakeholder can share stake with one and only one delegate.
To revoke certificate, a node should create a new certificate and put itself as
both issuer and delegate.</p>

<h3 id="messages-table">Messages table</h3>

<p>This table describes delegation-related messages, found in
<a href="https://github.com/input-output-hk/cardano-sl/blob/15b8b777fde5a8ab4a85af71affeffdf31ad219c/src/Pos/Delegation/Types.hs">Pos.Delegation.Types</a>
module. The format of delegation messages is described in <em>Binary protocols</em>
section.</p>

<table>
  <thead>
    <tr>
      <th>Message type</th>
      <th>Commentaries</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SendProxySK</td>
      <td>Message with proxy delegation certificate</td>
    </tr>
    <tr>
      <td>ConfirmProxySK</td>
      <td>Used to confirm proxy signature delivery</td>
    </tr>
  </tbody>
</table>

<h2 id="update-system-messages">Update System Messages</h2>

<p>You can see how system messages are implemented under <code class="highlighter-rouge">WorkMode</code>
<a href="https://github.com/input-output-hk/cardano-sl/blob/22360aa45e5dd82d0c87872d8530217fc3d08f4a/src/Pos/Communication/Methods.hs">here</a>.</p>

<table>
  <thead>
    <tr>
      <th>Message type</th>
      <th>Commentaries</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UpdateProposal</td>
      <td>Serialized update proposal, sent to a DHT peers in Pos.Communication.Methods</td>
    </tr>
    <tr>
      <td>VoteMsgTag</td>
      <td>A tag for vote message. Works with UpdateVote to tag the payload</td>
    </tr>
    <tr>
      <td>UpdateVote</td>
      <td>Message, payload of which contains the actual vote</td>
    </tr>
  </tbody>
</table>

<h1 id="workers-listeners-and-handlers-in-csl">Workers, Listeners and Handlers in CSL</h1>

<p>You can think about them as «operating personnel» for messages.</p>

<p><strong>Workers</strong> initiate messages exchange, so a worker is an <em>active</em>
communication part of Cardano SL. <strong>Listeners</strong> accept messages from the
workers and may send some messages as answers, so a listener is a
<em>passive</em> communication part of Cardano SL. After a message was received,
a listener uses the function called <strong>handler</strong> to actually perform
the corresponding job. A particular handler is used based on the type of
received message (as it has been said above, messages have different types).</p>

<p>To be able to perform necessary actions, all workers and handlers work in
the <code class="highlighter-rouge">WorkMode</code>’s constraints (see below).</p>

<h2 id="block-processing">Block Processing</h2>

<p>Block exchange messages are described above.</p>

<h3 id="block-processing-workers">Block Processing Workers</h3>

<p>Block acquisition is handled in
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs">Pos.Block.Network.Retrieval</a>
module.</p>

<p>The <code class="highlighter-rouge">retrievalWorker</code> function  is very important: it’s a server that
operates on <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Context/Context.hs#L74">block retrieval
queue</a>
validating headers, and these blocks form a proper chain. Thus, at <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs#L105">this
point</a>
it sends a message of type <code class="highlighter-rouge">MsgGetBlocks</code> to the listener, and at <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs#L134">this
point</a>
it receives an answer from this listener, a message of <code class="highlighter-rouge">MsgBlock</code> type.</p>

<p>Here’s another example — the <code class="highlighter-rouge">requestHeaders</code> function. This function handles
expected block headers, tracking them locally. So at <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs#L190">this
point</a>
it sends a message of type <code class="highlighter-rouge">MsgGetHeaders</code> to the listener, and at <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs#L191">this
point</a>
it receives an answer from that listener, a message of
<code class="highlighter-rouge">MsgHeaders</code> type.</p>

<p>Additional worker for the block processing is defined in
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Worker.hs">Pos.Block.Worker</a>
module. We reuse <code class="highlighter-rouge">retrievalWorker</code> described above and define a
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Worker.hs#L50">well-documented</a>
<code class="highlighter-rouge">blkOnNewSlot</code> worker. It represents an action which should be done when
a new slot starts. This action includes the following steps:</p>

<ol>
  <li>Generating a genesis block, if necessary;</li>
  <li>Getting leaders for the current epoch;</li>
  <li>Initiation block generation, if we’re the slot leader or we’re delegated to
 do so (optional).</li>
</ol>

<h3 id="logic">Logic</h3>

<p>The way in which blocks are processed is specified in the
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Logic.hs">Pos.Block.Logic</a>
module. Please read about <a href="/technical/blocks/">blocks in Cardano SL</a>
for more info.</p>

<h3 id="block-processing-listeners">Block Processing Listeners</h3>

<p>Listeners for the block processing are defined in
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs">Pos.Block.Network.Listeners</a>
module.</p>

<p>Handler
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs#L58"><code class="highlighter-rouge">handleGetHeaders</code></a>
sends out the block headers: at <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Announce.hs#L61">this
point</a>
it receives a message of type <code class="highlighter-rouge">MsgGetHeaders</code> from the worker, <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Logic.hs#L235">get the
headers</a>
and then, at <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Announce.hs#L65">this
point</a>,
it sends a response message of type <code class="highlighter-rouge">MsgHeaders</code> to that worker.</p>

<p>A handler
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs#L65"><code class="highlighter-rouge">handleGetBlocks</code></a>
sends out blocks. This handler corresponds to
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs#L117"><code class="highlighter-rouge">retrieveBlocks</code></a>
from main
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs#L53"><code class="highlighter-rouge">retrievalWorker</code></a>.
Thus, it receives a message of type <code class="highlighter-rouge">MsgGetBlocks</code> from the worker <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs#L70">here</a>,
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Logic.hs#L308">gets corresponding headers</a>,
and then it sends response message of type <code class="highlighter-rouge">MsgBlock</code> to that worker <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs#L86">here</a>.</p>

<p>A handler
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs#L90"><code class="highlighter-rouge">handleBlockHeaders</code></a>
sends out block headers for unsolicited use case in a similar way: it receives a
message of
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs#L97"><code class="highlighter-rouge">MsgHeaders</code></a> type
from the worker and <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs#L116">handles
it</a>.</p>

<p>All these handlers work in the <code class="highlighter-rouge">ListenerActionConversation</code> mode because they
send replies to corresponding workers (so we have a <em>conversation</em> between
workers and listeners).</p>

<h2 id="delegation">Delegation</h2>

<p>Another example is working with delegation messages described above.</p>

<h3 id="workers">Workers</h3>

<p>Workers for delegation messages are defined in
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Methods.hs">Pos.Delegation.Methods</a>
module. There are 3 workers:
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Methods.hs#L24"><code class="highlighter-rouge">sendProxySKEpoch</code></a>,
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Methods.hs#L31"><code class="highlighter-rouge">sendProxySKSimple</code></a>
and
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Methods.hs#L39"><code class="highlighter-rouge">sendProxyConfirmSK</code></a>.</p>

<p>All these workers do not send messages to one particular node. They send messages
to all neighbors. Thus, <code class="highlighter-rouge">sendProxyConfirmSK</code> worker
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Methods.hs#L46">sends</a>
a message of type <code class="highlighter-rouge">ConfirmProxySK</code> to all neighbors.</p>

<h3 id="listeners">Listeners</h3>

<p>Listeners for delegation messages are defined in
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Listeners.hs">Pos.Delegation.Listeners</a>
module.</p>

<p>Handler
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Listeners.hs#L67"><code class="highlighter-rouge">handleSendProxySK</code></a>
handles <code class="highlighter-rouge">SendProxySK*</code>-messages. This handler works in another mode,
called <code class="highlighter-rouge">ListenerActionOneMsg</code>, which means there’s no <em>conversation</em> with
the worker — we receive a single incoming message. In this case
handler receives a message of type <code class="highlighter-rouge">SendProxySK</code> from the worker, but
doesn’t reply to it. Instead, it sends a message of
<code class="highlighter-rouge">SendProxySKSimple</code> type <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Methods.hs#L35">to its
neighbors</a>.</p>

<p>Handler
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Listeners.hs#L124"><code class="highlighter-rouge">handleConfirmProxySK</code></a>
works in the same way. It receives a message of type <code class="highlighter-rouge">ConfirmProxySK</code> from the
worker and sends a message of <code class="highlighter-rouge">ConfirmProxySK</code> type <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Listeners.hs#L146">to its
neighbors</a>.</p>

<p>Handler
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Listeners.hs#L149"><code class="highlighter-rouge">handleCheckProxySKConfirmed</code></a>
works in <code class="highlighter-rouge">ListenerActionOneMsg</code> mode too, but after it receives a
message of <code class="highlighter-rouge">CheckProxySKConfirmed</code> type, it
<a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Delegation/Listeners.hs#L157">sends</a>
a message of <code class="highlighter-rouge">CheckProxySKConfirmedRes</code> type as a reply to the worker.</p>

<h2 id="security">Security</h2>

<p>Workers for security operations are defined in
<a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Security/Workers.hs">Pos.Security.Workers</a>
module. Let’s have a look at
<a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Security/Workers.hs#L48"><code class="highlighter-rouge">checkForReceivedBlocksWorker</code></a>:
in this case, again, we send a message to all neighbors using
<a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/DHT/Model/Neighbors.hs#L68"><code class="highlighter-rouge">converseToNode</code></a>
function. This function tries to <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/DHT/Model/Neighbors.hs#L79">establish connection with the
listeners</a>
to start a <em>conversation</em> with them.</p>

<h2 id="update-system">Update System</h2>

<p>Below is the list of workers and listeners related to update system.</p>

<h3 id="workers-1">Workers</h3>

<p>Workers for update system are defined
<a href="https://github.com/input-output-hk/cardano-sl/blob/22360aa45e5dd82d0c87872d8530217fc3d08f4a/src/Pos/Update/Worker.hs">here</a>.
The only thing that the update system does is checking for a new
<em>approved</em> update on each slot.</p>

<h3 id="listeners-1">Listeners</h3>

<p>Listeners for update system are defined
<a href="https://github.com/input-output-hk/cardano-sl/blob/22360aa45e5dd82d0c87872d8530217fc3d08f4a/src/Pos/Update/Network/Listeners.hs">here</a>.</p>

<p><code class="highlighter-rouge">UpdateProposal</code> handlers:</p>

<ul>
  <li><code class="highlighter-rouge">Req</code> — local node answers to a request about update proposal with
the set of votes for/against this proposal.</li>
  <li><code class="highlighter-rouge">Inv</code> — checks if we need the offered proposal, and records the data if
this inventory message is relevant.</li>
  <li><code class="highlighter-rouge">Data</code> — carries the proposal information along with votes, which is
verified and recorded.</li>
</ul>

<p><code class="highlighter-rouge">UpdateVote</code> listeners:</p>

<ul>
  <li><code class="highlighter-rouge">Req</code> — sends <em>our</em> vote to whoever requests it.</li>
  <li><code class="highlighter-rouge">Inv</code> — checks if we need the offered vote, and records it if
 relevant.</li>
  <li><code class="highlighter-rouge">Data</code> — carries a single vote, which is verified and recorded.</li>
</ul>

<h2 id="workmode-and-workmodemin">WorkMode and WorkModeMin</h2>

<p>A special type called <code class="highlighter-rouge">WorkMode</code> represents a bunch of constraints to perform
work for the real world distributed system. You can think about a constraint as
a <em>compile-time guarantee</em> that particular actions can be performed in the
particular context. For example, if we define type of some function <code class="highlighter-rouge">f</code> in the terms of <strong>logging</strong> constraint, we definitely know that we can log different info inside of this function <code class="highlighter-rouge">f</code>.</p>

<p>All workers and handlers described above work in the <code class="highlighter-rouge">WorkMode</code>’s constraints.
These constraints guarantee the following abilities:</p>

<ul>
  <li><a href="https://hackage.haskell.org/package/log-warper-0.2.1/docs/System-Wlog-CanLog.html#t:WithLogger"><code class="highlighter-rouge">WithLogger</code></a>.
An ability to log different info, see <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs#L58">example</a>.</li>
  <li><a href="http://hackage.haskell.org/package/transformers-0.5.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO"><code class="highlighter-rouge">MonadIO</code></a>.
An ability to interact with the real world. For example, standard input/output, filesystem, etc. — see <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Retrieval.hs#L61">example</a>.</li>
  <li><a href="https://github.com/serokell/time-warp-nt/blob/9b4927f8115499db2fa3ba07df50d60d02190790/src/Mockable/Monad.hs"><code class="highlighter-rouge">MonadMockable</code></a>.
An ability to work with our network layer, see <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Block/Network/Listeners.hs#L86">example</a>.
Please read <a href="/technical/protocols/time-warp-nt/">Time-Warp-NT Guide</a> for more info.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/DHT/Model/Class.hs#L16"><code class="highlighter-rouge">MonadDHT</code></a>.
An ability to perform Distributed Hash Table operations — for example, <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/DHT/Real/Real.hs#L211">join the network</a>
or peer discovery to find neighbors. Please read <a href="/technical/protocols/p2p/">P2P Layer Guide</a> for more info.</li>
  <li><a href="http://hackage.haskell.org/package/exceptions-0.8.3/docs/Control-Monad-Catch.html#t:MonadMask"><code class="highlighter-rouge">MonadMask</code></a>.
An ability to mask asynchronous exceptions.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Slotting.hs#L44"><code class="highlighter-rouge">MonadSlots</code></a>.
An ability to get information about the time when system started functioning and different slot-related info, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/wallet/Main.hs#L152">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/DB/Class.hs#L27"><code class="highlighter-rouge">MonadDB</code></a>.
An ability to work with node’s DB data (we use RocksDB), see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Web/Server.hs#L117">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Txp/Class.hs#L51"><code class="highlighter-rouge">MonadTxpLD</code></a>.
An ability to work with local data of transactions processing, see <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Wallet/Web/Server/Full.hs#L74">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Delegation/Class.hs#L67"><code class="highlighter-rouge">MonadDelegation</code></a>.
An ability to ask delegation state, <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Wallet/Web/Server/Full.hs#L76">see example</a>. Please see definition of <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Delegation/Class.hs#L38">DelegationWrap</a> for more info.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Types/Utxo/Class.hs#L21"><code class="highlighter-rouge">MonadUtxo</code></a>.
An ability to work with unspent transaction outputs (UTXO).</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Ssc/Extra/MonadGS.hs#L38"><code class="highlighter-rouge">MonadSscGS</code></a>.
An ability to work with global state (GS), get it and modify it, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Ssc/Extra/MonadGS.hs#L61">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Ssc/Class/Storage.hs#L40"><code class="highlighter-rouge">SscStorageClass</code></a>.
An ability to apply blocks and rollback this application, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Launcher/Runner.hs#L172">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Ssc/Class/LocalData.hs#L30"><code class="highlighter-rouge">SscLocalDataClass</code></a>.
An ability to work with SSC local data, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Ssc/Extra/MonadLD.hs#L75">example</a>.
Local means that it’s not stored in blocks.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Ssc/Class/Helpers.hs#L16"><code class="highlighter-rouge">SscHelpersClass</code></a>.
An ability to verify payload, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Types/Block.hs#L448">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Ssc/Extra/MonadLD.hs#L28"><code class="highlighter-rouge">MonadSscLD</code></a>.
An ability to work with SSC local data, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Ssc/Extra/MonadLD.hs#L72">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Context/Class.hs#L16"><code class="highlighter-rouge">WithNodeContext</code></a>.
An ability to get <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Context/Context.hs#L38">runtime context</a> of the node.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Statistics/MonadStats.hs#L56"><code class="highlighter-rouge">MonadStats</code></a>.
An ability to collect statistics information, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Statistics/Helpers.hs#L18">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Util/JsonLog.hs#L96"><code class="highlighter-rouge">MonadJL</code></a>.
An ability to log JSON log events, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Statistics/MonadStats.hs#L190">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/DHT/Real/Types.hs#L80"><code class="highlighter-rouge">WithKademliaDHTInstance</code></a>.
An ability to get Kademlia DHT instance, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Wallet/Web/Server/Lite.hs#L56">example</a>. Please read <a href="/technical/protocols/p2p/">P2P Layer Guide</a> for more info about Kademlia.</li>
  <li><a href="https://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-Fail.html#t:MonadFail"><code class="highlighter-rouge">MonadFail</code></a>.
Ability to abort some operation as failed.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Communication/PeerState.hs#L41"><code class="highlighter-rouge">WithPeerState</code></a>.
An ability to work with peer’s state (get it and clear it), see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Wallet/Web/Server/Full.hs#L77">example</a>.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Update/MemState/Class.hs#L19"><code class="highlighter-rouge">MonadUSMem</code></a>.
A reduced equivalent of <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Reader-Class.html#t:MonadReader"><code class="highlighter-rouge">MonadReader</code></a> <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Update/MemState/MemState.hs#L44"><code class="highlighter-rouge">MemVar</code></a>, see <a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/Launcher/Scenario.hs#L105">example</a>.</li>
</ul>

<p>There’s a minimum version of <code class="highlighter-rouge">WorkMode</code> called <code class="highlighter-rouge">MinWorkMode</code>, for more specific functions <a href="https://github.com/input-output-hk/cardano-sl/blob/d564b3f5a7e03e086b62c88212870b5ea89f5e8b/src/Pos/Launcher/Runner.hs#L309">like this one</a>. <code class="highlighter-rouge">MinWorkMode</code> includes these absolutely necessary constraints only:</p>

<ul>
  <li><a href="https://hackage.haskell.org/package/log-warper-0.2.1/docs/System-Wlog-CanLog.html#t:WithLogger"><code class="highlighter-rouge">WithLogger</code></a>. See above.</li>
  <li><a href="http://hackage.haskell.org/package/transformers-0.5.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO"><code class="highlighter-rouge">MonadIO</code></a>. See above.</li>
  <li><a href="https://github.com/input-output-hk/cardano-sl/blob/517a72801c0bbb11a34c8d6a6d528fff5f094471/src/Pos/DHT/Model/Class.hs#L16"><code class="highlighter-rouge">MonadDHT</code></a>. See above.</li>
  <li><a href="https://github.com/serokell/time-warp-nt/blob/9b4927f8115499db2fa3ba07df50d60d02190790/src/Mockable/Monad.hs"><code class="highlighter-rouge">MonadMockable</code></a>. See above.</li>
  <li><a href="https://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-Fail.html#t:MonadFail"><code class="highlighter-rouge">MonadFail</code></a>. See above.</li>
</ul>

                </div>

              </div>
              <!-- end content -->
          </div>

      </div>



    


  <div id="foot" class="foot noprint">
      <footer>


          <div class="links">
            <div class="container">

              <div class="row">
                <div class="col-md-2 col-sm-3">
                  <b>Links</b>
                  <ul>

                    <li><a href="//daedaluswallet.io/" target="_blank">Daedalus Wallet</a></li>
                    <li><a href="//whycardano.com/" target="_blank">Why&nbsp;Cardano</a></li>
                    <li><a href="//cardanoroadmap.com/" target="_blank">Cardano&nbsp;Roadmap</a></li>
                    <li><a href="//tada.iohk.io" target="_blank">Cardano ADA Faucet</a></li>
                    <li><a href="//cardano-docs.iohk.io" target="">Cardano SL Documentation</a></li>

                  </ul>

                </div>
                <div class="col-md-3 col-sm-3">
                  <b>Follow us</b>
                  <ul>
                    <li><a href="https://github.com/input-output-hk/" target="_blank">Github</a></li>
                    <li><a href="https://www.linkedin.com/company/input-output-global" target="_blank">LinkedIn</a></li>
                    <li><a href="https://twitter.com/InputOutputHK" target="_blank">Twitter</a></li>
                  </ul>


                </div>
              </div>


            </div>
          </div>


          <hr />

          <div class="container">

            <div class="footer">
                    <div class="row">
                    <div class="col-sm-12 daedalus logo">



                      <div class="uppercase">

                        <a href="//iohk.io/projects/cardano/" target="_blank" class="cardano"><img src="/img/cardano-logo.svg" width="103.5" height="30" alt="Cardano" /></a>

                        <span class="split"></span>

                        <a href="//iohk.io/projects/cardano/" target="_blank" class="support">IOHK supported project</a>
                        <a href="//iohk.io/" target="_blank" class="iohk"><img src="/img/iohk-logo.svg" alt="" width="138.4" height="30" /></a>

                      </div>



                    </div>

                  </div>
                </div>


          </div>
      </footer>
  </div>

  <script type="text/javascript" src="/js/app/app.js"></script>
  <script type="text/javascript" src="/js/app/base.1.js"></script>
  <script type="text/javascript" src="/js/app/searcher.js"></script>
  <script>

  $(".navbar-side li").each(function(){
    var txt = $(this).text().trim();
    if(txt.length == 0){
      $(this).remove();
    }
  });

  </script>


  </body>

</html>
